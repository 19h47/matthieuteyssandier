{#
 # Single: Case Study
 #
 # @package WordPress
 # @subpackage MatthieuTeyssandier
 #}

{% extends 'index.html.twig' %}

{% block content %}

	<div class="pb-6 mt-14 lg:mt-0">
		<div class="container my-6 first:mt-0 last:mb-0">
			<div class="row">
				{% if post.terms( 'case_study_cat' ) %}
					<div class="lg:col-2/12">
						<ul class="flex flex-wrap -mx-3 -my-2">
							{% for cat in post.terms( 'case_study_cat' ) %}
								<li class="mx-3 my-2"><p class="button">{{- cat.name -}}</p></li>
							{% endfor %}
						</ul>
					</div>
				{% endif %}

				<div class="lg:col-10/12 mt-6 lg:mt-0 {{ post.terms( 'case_study_cat' ) ? '' : 'lg:ml-2/12' }}">
					<h1 class="uppercase text-15xl leading-[.85] break-words">{{- post.title -}}</h1>
				</div>
			</div>

			{% if post.thumbnail %}
				<div class="mt-20 lg:mt-32 row">
					<div>
						{{- include( 'components/image.html.twig', { size: 'size-12', image: post.thumbnail, classes: [ 'rounded-5xl', 'max-w-full', 'mx-auto', 'h-auto' ] } ) -}}
					</div>
				</div>
			{% endif %}

			{% if post.meta( 'content' ).french or post.meta( 'content' ).english %}
				<div class="my-32 row">
					<div class="lg:col-6/12">
						<p class="text-4xl leading-normal tracking-tight indent-1/3">
							{{- post.meta( 'content' ).english -}}
						</p>
						<p class="mt-10 text-4xl leading-normal tracking-tight indent-1/3 text-gray-dark">
							{{- post.meta( 'content' ).french -}}
						</p>
					</div>

					<div class="lg:ml-2/12 lg:col-4/12">
						<p class="inline-flex button">{{- __( 'Credits', 'matthieuteyssandier' ) -}}</p>
						<div class="mt-10">
							<ul class="-my-4 text-2xl leading-none">
								{% for credit in post.meta( 'credits' ) %}
									<li class="my-4"><strong>{{ credit.key }}</strong>: {{ credit.value }}</li>
								{% endfor %}
							</ul>
						</div>
						<a class="inline-block mt-4 text-2xl underline" href="{{ post.meta( 'link' ) }}" target="_blank" rel="noopener noreferer">
							{{- __( 'Visit website', 'matthieuteyssandier' ) -}}
						</a>
					</div>
				</div>
			{% endif %}
		</div>

		{{ parent() }}

		{% if post.prev %}
			<div class="container mt-33">
				<div class="row">

					<div class="d-flex {{ post.prev.meta( 'preview' ) ? 'col-8/12' : 'col-full' }}">
						<div class="relative h-full overflow-hidden">
							{{-
								include(
									'components/image.html.twig',
									{
										size: post.prev.meta( 'preview' ) ? 'size-8' : 'size-12',
										image: post.prev.thumbnail,
										classes: [ 'absolute', 'inset-0', 'z-10', 'rounded-3xl', 'w-full', 'h-full', 'object-cover', 'object-center' ]
									}
								)
							-}}
							<div class="relative z-30 flex flex-col w-full px-6 my-6 lg:px-10 lg:my-10 lg:flex-row-reverse lg:items-end min-h-99 lg:min-h-223">
								<div class="lg:w-2.5/12 lg:flex ml-auto lg:ml-0">
									<a href="{{ post.prev.link }}" class="inline-flex items-center ml-auto text-black bg-white border-none button">
										{{- __( 'Next Project', 'matthieuteyssandier' ) -}}{{- icon( 'arrow-right', { classes: [ 'ml-1', 'w-2', 'h-2', 'fill-black' ] } ) -}}
									</a>
								</div>
								<div class="uppercase mt-auto lg:mt-0 text-white break-words text-15xl leading-[.85] lg:w-9.5/12">
									{{- post.prev.title -}}
								</div>
							</div>
						</div>
					</div>

					{% if post.prev.meta( 'preview' ) %}
						<div class="col-4/12 d-flex">
							{{-
								include(
									'components/image.html.twig',
									{
										size: 'size-4',
										image: post.prev.meta( 'preview' ),
										classes: [ 'rounded-3xl', 'w-full', 'h-full', 'object-cover', 'object-center' ]
									}
								)
							-}}
						</div>
					{% endif	%}
				</div>
			</div>
		{% endif %}
	</div>
{% endblock %}
